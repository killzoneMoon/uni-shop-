(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orders/details"],{"2b78":function(t,n,e){"use strict";e.r(n);var r=e("e4b8"),o=e("baaa");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("3cd1");var u,c=e("f0c5"),i=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"9d05ee14",null,!1,r["a"],u);n["default"]=i.exports},"39f5":function(t,n,e){},"3cd1":function(t,n,e){"use strict";var r=e("39f5"),o=e.n(r);o.a},"9ed6":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=a(e("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,n,e,r,o,a,u){try{var c=t[a](u),i=c.value}catch(s){return void e(s)}c.done?n(i):Promise.resolve(i).then(r,o)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function c(t){u(a,r,o,c,i,"next",t)}function i(t){u(a,r,o,c,i,"throw",t)}c(void 0)}))}}var i={onLoad:function(t){this.id=t.id,r=this,this._initOrderDetails(t.id)},data:function(){return{orderInfo:{},QrcodeUrl:"",address:"",phone:0,id:""}},name:"Details",methods:{pay:function(){var t=this;return c(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.statusTimer=setInterval((function(){t.$u.get("/api/orders/".concat(r.id,"/status"),{}).then((function(t){}),(function(t){2===t&&clearInterval(r.statusTimer)}))}),4e3),t.$u.get("api/orders/".concat(r.id,"/pay"),{type:"aliyun"}).then((function(t){}),(function(t){r.QrcodeUrl="https://api.shop.eduwork.cn"+t.qr_code_url})),t.showQrcode();case 3:case"end":return n.stop()}}),n)})))()},showQrcode:function(){},_initOrderDetails:function(t){var n=this;return c(o.default.mark((function e(){var r;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$u.get("/api/orders/".concat(t,"?include=goods,orderDetails.goods,address"),{include:"goods,orderDetails.goods,address"}).then((function(t){}),(function(t){r=t}));case 2:if(r){e.next=7;break}return n.orderInfo={goods:!1},e.abrupt("return");case 7:n.orderInfo=r;case 8:n.$bus.totalSum=n.orderInfo.amount,n._initAddress();case 10:case"end":return e.stop()}}),e)})))()},closeQrcode:function(){clearInterval(this.statusTimer),this.QrcodeUrl=""},_initAddress:function(){var t=this.orderInfo.address,n=t.province,e=t.city,r=t.address,o=t.county,a=t.phone;this.address="".concat(n,"-").concat(e,"-").concat(o,"-").concat(r),this.phone=a}}};n.default=i},baaa:function(t,n,e){"use strict";e.r(n);var r=e("9ed6"),o=e.n(r);for(var a in r)"default"!==a&&function(t){e.d(n,t,(function(){return r[t]}))}(a);n["default"]=o.a},e4b8:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return r}));var r={uImage:function(){return e.e("components/u-image/u-image").then(e.bind(null,"112a"))},cartBottom:function(){return e.e("components/cart-bottom/cart-bottom").then(e.bind(null,"aac3"))}},o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},fed7:function(t,n,e){"use strict";(function(t){e("6f4b");r(e("66fd"));var n=r(e("2b78"));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["fed7","common/runtime","common/vendor"]]]);