(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orders/addresses"],{"0c87":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s}));var s={uSwipeAction:function(){return n.e("components/u-swipe-action/u-swipe-action").then(n.bind(null,"061d"))},uIcon:function(){return n.e("components/u-icon/u-icon").then(n.bind(null,"ce91"))},uEmpty:function(){return n.e("components/u-empty/u-empty").then(n.bind(null,"6e61"))}},r=function(){var e=this,t=e.$createElement;e._self._c},u=[]},"7a55":function(e,t,n){"use strict";var s=n("cd87"),r=n.n(s);r.a},"901c":function(e,t,n){"use strict";n.r(t);var s=n("0c87"),r=n("d177");for(var u in r)"default"!==u&&function(e){n.d(t,e,(function(){return r[e]}))}(u);n("7a55");var i,a=n("f0c5"),o=Object(a["a"])(r["default"],s["b"],s["c"],!1,null,"12d3cd34",null,!1,s["a"],i);t["default"]=o.exports},b600:function(e,t,n){"use strict";(function(e){n("6f4b");s(n("66fd"));var t=s(n("901c"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},cd87:function(e,t,n){},d177:function(e,t,n){"use strict";n.r(t);var s=n("d47a"),r=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,(function(){return s[e]}))}(u);t["default"]=r.a},d47a:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,s,r,u,i){try{var a=e[u](i),o=a.value}catch(c){return void n(c)}a.done?t(o):Promise.resolve(o).then(s,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function a(e){u(i,s,r,a,o,"next",e)}function o(e){u(i,s,r,a,o,"throw",e)}a(void 0)}))}}var a={name:"addresses",beforeMount:function(){this._initAddresses()},onLoad:function(e){this.prePage=e.prePage},data:function(){return{disabled:!1,btnWidth:180,show:!1,options:[{text:"设为默认",style:{backgroundColor:"#005500"}},{text:"删除",style:{backgroundColor:"#dd524d"}}],addresses:[],prePage:""}},onShow:function(){this.addresses=this.$bus.addresses.data},methods:{setDefaultWhenPay:function(e){"pages/center/center"!==this.prePage&&this.setDefault(e)},swipeActionClick:function(e,t){var n=this.addresses[e].id;if(t)this.deleteAddress(n),this.addresses.splice(e,1);else{if(this.addresses[e].is_default)return;this.setDefault(n)}},deleteAddress:function(t){this.$u.delete("/api/address/".concat(t)).then((function(e){}),(function(t){e.showToast({title:"删除成功",icon:"none"})}))},open:function(e){var t=this;this.addresses[e].show=!0,this.addresses.map((function(n,s){e!=s&&(t.addresses[s].show=!1)}))},_initAddresses:function(){var e=this;return i(s.default.mark((function t(){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$u.get("/api/address").then((function(e){}),(function(t){e.addresses=t.data}));case 2:case"end":return t.stop()}}),t)})))()},setDefault:function(t){var n=this;return i(s.default.mark((function r(){return s.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,n.$u.patch("/api/address/".concat(t,"/default")).then((function(e){}),(function(e){}));case 2:return e.showToast({title:"默认设置完毕",icon:"none"}),s.next=5,n._initAddresses();case 5:"pages/center/center"!==n.prePage&&n.toUrl("pages/preview/preview");case 6:case"end":return s.stop()}}),r)})))()},toUrl:function(e){this.$u.route({url:e})}}};t.default=a}).call(this,n("543d")["default"])}},[["b600","common/runtime","common/vendor"]]]);